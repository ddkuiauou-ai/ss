@import "tailwindcss";

:root {
  --background: #ffffff;
  --foreground: #171717;
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: Arial, Helvetica, sans-serif;
}

/* --- Readability improvements (prefer light scheme) --- */
@media (prefers-color-scheme: light) {
  /* Boost contrast for commonly used low-contrast utility classes */
  .text-gray-300 { color: #6b7280 !important; } /* raise to gray-500 */
  .text-gray-400 { color: #4b5563 !important; } /* raise to gray-600 */
  .text-gray-500 { color: #111827 !important; } /* raise to gray-900 */
  .text-gray-600 { color: #0f172a !important; } /* slate-900 */
  .text-slate-400 { color: #334155 !important; } /* slate-700 */
  .text-slate-500 { color: #0f172a !important; } /* slate-900 */
  .text-slate-600 { color: #0f172a !important; }

  /* Tables: ensure strong default text */
  table, th, td { color: #0f172a !important; }
  thead th { font-weight: 700 !important; }
}

/* Dark mode readability
   - Generic: lighten grays on dark backgrounds
   - Exception: inside white cards, keep text dark for contrast */
@media (prefers-color-scheme: dark) {
  /* Generic lighten */
  .text-gray-300 { color: #e5e7eb !important; }
  .text-gray-400 { color: #e9edf3 !important; }
  .text-gray-500 { color: #f3f4f6 !important; }
  .text-gray-600 { color: #f8fafc !important; }
  .text-slate-400 { color: #e2e8f0 !important; }
  .text-slate-500 { color: #f1f5f9 !important; }
  .text-slate-600 { color: #f8fafc !important; }

  /* White-ish cards: default text should be dark */
  .bg-white, .bg-slate-50 { color: #0f172a !important; }

  /* Inside white-ish cards: force gray utilities to dark variants */
  .bg-white .text-gray-300, .bg-slate-50 .text-gray-300 { color: #6b7280 !important; }
  .bg-white .text-gray-400, .bg-slate-50 .text-gray-400 { color: #4b5563 !important; }
  .bg-white .text-gray-500, .bg-slate-50 .text-gray-500 { color: #111827 !important; }
  .bg-white .text-gray-600, .bg-slate-50 .text-gray-600 { color: #0f172a !important; }
  .bg-white .text-slate-400, .bg-slate-50 .text-slate-400 { color: #334155 !important; }
  .bg-white .text-slate-500, .bg-slate-50 .text-slate-500 { color: #0f172a !important; }
  .bg-white .text-slate-600, .bg-slate-50 .text-slate-600 { color: #0f172a !important; }

  /* Tables inside white-ish cards: keep dark */
  .bg-white table, .bg-white th, .bg-white td,
  .bg-slate-50 table, .bg-slate-50 th, .bg-slate-50 td { color: #0f172a !important; }
}

/* iOS Safari: reduce auto adjustments that desaturate text */
html, body { -webkit-text-size-adjust: 100%; }

/* Slightly bolder default for small captions */
@media (max-width: 480px) {
  .text-\[11px\] { font-size: 12px !important; line-height: 1.35 !important; }
  .text-\[12px\] { font-size: 13px !important; line-height: 1.4 !important; }
  .text-\[13px\] { font-size: 14px !important; line-height: 1.45 !important; }
}

/* Ensure borders remain visible on bright screens */
.border-slate-200 { border-color: #cbd5e1 !important; }
.border-amber-200 { border-color: #fcd34d !important; }

/* Links: ensure visible default */
a { color: #1d4ed8; }
